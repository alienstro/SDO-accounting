<div class="main">
  <form
    class="form-container"
    [formGroup]="passwordForm"
    (ngSubmit)="onSubmit()"
  >
    <div class="form-group">
      <label for="current_password">Current Password</label>
      <input
        class="input"
        id="current_password"
        formControlName="current_password"
        type="password"
        required
      />
      <div
        *ngIf="
          passwordForm.get('current_password')?.invalid &&
          passwordForm.get('current_password')?.touched
        "
        class="error-message"
      >
        Current password is required.
      </div>
    </div>

    <div class="form-group">
      <label for="new_password">New Password</label>
      <input
        class="input"
        id="new_password"
        formControlName="new_password"
        type="password"
        required
      />
      <div
        *ngIf="
          passwordForm.get('new_password')?.invalid &&
          passwordForm.get('new_password')?.touched
        "
        class="error-message"
      >
        New password is required.
      </div>
    </div>

    <div class="form-group">
      <label for="re_type_password">Re-Type Password</label>
      <input
        class="input"
        id="re_type_password"
        formControlName="re_type_password"
        type="password"
        required
      />
      <div
        *ngIf="
          passwordForm.get('re_type_password')?.invalid &&
          passwordForm.get('re_type_password')?.touched
        "
        class="error-message"
      >
        Re-type password is required.
      </div>
    </div>

    <div
      *ngIf="
        passwordForm.hasError('passwordMismatch') &&
        passwordForm.get('re_type_password')?.touched
      "
      class="error-message"
    >
      New password and re-type password<br> must be the same.
    </div>

    <button class="button-65" type="submit" [disabled]="!passwordForm.valid">
      Update password
    </button>
    <button class="button-65" type="submit" (click)="cancel()">Cancel</button>
  </form>
</div>
